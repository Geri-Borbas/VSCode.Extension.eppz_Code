{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "C# (extensions)",
  	"fileTypes": [ "cs_extensions" ],
	"scopeName": "source.cs.extensions",
	"patterns":
	[
		{ "include": "#using-directive" },
		{ "include": "#using-statement" },
		{ "include": "#attribute-section" },
		{ "include": "#namespace-declaration" },
		{ "include": "#storage-type" }
	],
    "repository" :
    {
		"using-directive":
		{
			"patterns":
			[
				{
					"name": "regions.using.directive.cs.extensions",
					"match": "(using.+;)",
					"captures":
					{
						"1" : { "patterns": [{ "include": "source.cs.extended#using-directive" }]}
					}
				}
			]
		},
		"using-statement":
		{
			"patterns":
			[
				{
					"name": "regions.using.statement.cs.extensions",
					"match": "(using.+;)",
					"captures":
					{
						"1" : { "patterns": [{ "include": "source.cs.extended#using-statement" }] }
					}
				}
			]
		},
		"attribute-section":
		{
			"patterns":
			[
				{
					"name": "regions.attribute.cs.extensions",
					"match": "(\\[.+\\])",
					"captures":
					{
						"1" : { "patterns": [{ "include": "source.cs.extended#attribute-section" }]}
					}
				}
			]
		},
		"namespace-declaration":
		{
			"name": "regions.namespace.cs.extensions",
      		"begin": "(?=\\b(namespace)\\s+)",
      		"end": "(?<=\\})",
      		"patterns":
			[
				{
					"name": "regions.namespace.declaration.cs.extensions",
					"begin": "(?=\\b(namespace)\\s+)",
      				"end": "(?=\\{)",
					"patterns":
					[
						{
							"name": "keyword.other.namespace.cs",
							"match": "\\b(namespace)\\s+"
						}, 
						{ "include": "source.cs.official#comment" },
						{
							"name": "entity.name.type.namespace.cs",
							"match": "[_[:alpha:]][_[:alnum:]]*"
						},  
						{ "include": "source.cs.official#punctuation-accessor" }
					]
				},
				{ "include": "source.cs.extended#declarations" },
				{ "include": "source.cs.extended#using-directive" },
				{ "include": "source.cs.official#punctuation-semicolon" }
			]
    	},
		"type":
		{
      		"name": "meta.type.cs",
			"patterns":
			[
				{ "include": "#type-UnityEngine" },
				{ "include": "source.cs.extended#type" }
			]
		},
		"type-UnityEngine":
		{
			"patterns":
			[
				{
					"name": "support.class.UnityEngine.cs.extensions",
					"match": "(UnityEngine|Serialization|FormerlySerializedAs|MonoBehaviour|GameObject|ExecuteInEditMode|CreateAssetMenu)"
				},
				{
					"name": "support.type.UnityEngine.cs.extensions",
					"match": "(Vector2|Vector3)"
				}
			]
		}
    }
}